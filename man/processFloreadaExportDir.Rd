% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/processFloreadaExportDir.R
\name{processFloreadaExportDir}
\alias{processFloreadaExportDir}
\title{Process a Floreada Flow Cytometry export directory and merge with plate annotations}
\usage{
processFloreadaExportDir(
  dir,
  csvstring = "\\\\.fcs\\\\.csv$",
  wellIDstring = "([A-Z][0-9]|[A-Z][0-9][0-9])\\\\.fcs\\\\.csv$",
  fileout = "combodf.txt",
  platesetupfile = "platesetup.txt",
  IDvar = "wellID"
)
}
\arguments{
\item{dir}{Character scalar. Path to the directory containing Floreada CSV files
and the plate setup file.}

\item{csvstring}{Character scalar. Regular expression used to identify CSV files
within \code{dir}. Defaults to \code{"\\.fcs\\.csv$"}.}

\item{wellIDstring}{Character scalar. Regular expression used to extract the well
identifier from each CSV filename. Defaults to
\code{"([A-Z][0-9]|[A-Z][0-9][0-9])\\.fcs\\.csv$"}.}

\item{fileout}{Character scalar. Name of the combined output file written to
\code{dir}. Defaults to \code{"combodf.txt"}.}

\item{platesetupfile}{Character scalar. Name of the plate annotation file located
in \code{dir}. Must be readable by \code{data.table::fread}. Defaults to
\code{"platesetup.txt"}.}

\item{IDvar}{Character scalar. Name of the column representing well identifiers.
This column must exist uniquely and without duplicates in the plate setup file.
Defaults to \code{"wellID"}.}
}
\value{
A data.frame containing combined Floreada event-level data joined with
plate annotations.
}
\description{
This function reads a directory of Floreada-exported CSV files derived from FCS
files (e.g. \code{A1.fcs.csv}), extracts well identifiers from filenames, combines
all event-level data into a single data frame, and joins it with a plate setup
annotation file. The merged data frame is written to disk and returned.
}
\details{
The function performs the following steps:
\enumerate{
\item Validates the existence of the plate setup file.
\item Identifies CSV files matching \code{csvstring}.
\item Reads the plate setup file and validates \code{IDvar}.
\item Extracts well identifiers from CSV filenames using \code{wellIDstring}.
\item Reads each CSV file and appends filename and well ID metadata.
\item Row-binds all CSV files into a single data frame.
\item Checks for plate annotation wells that do not appear in the combined data.
\item Inner-joins event-level data with plate annotations.
\item Writes the merged data to disk as a tab-delimited text file.
}

If any wells in the plate setup file do not match data in the combined CSVs,
a message is emitted listing the unmatched identifiers.
}
\examples{
\dontrun{
combodf <- processFloreadaExportDir(
  dir = "floreadaexport/events-P1",
  platesetupfile = "platesetup.txt",
  fileout = "combined_events.txt"
)
}

}
